---
title: ❓ Frequently Asked Questions
---

## 💰 Quota Related Questions

<Callout type="info" title="What is quota? How is it calculated?" collapsible>
  The quota calculation formula is as follows:
</Callout>

    Quota = Group Multiplier * Model Multiplier * (Prompt Token Count + Completion Token Count * Completion Multiplier)

    Completion Multiplier explanation:

    - GPT3.5: Fixed at 1.33
    - GPT4: Fixed at 2 (same as official)

    Notes:

    - In non-streaming mode, the official API returns the total tokens consumed, but the multipliers for prompt and completion are different
    - New API's default multipliers are consistent with the official ones and have been adjusted accordingly

<Callout
  type="info"
  title="Why does it say 'insufficient quota' even though my account has enough?"
  collapsible
>
  This is because token quota and account quota are separate:
</Callout>

    - Token quota is only used to set the maximum usage limit
    - Users can freely set token quota
    - Please check if your token quota is sufficient

## 🔧 Channel Configuration Questions

<Callout
  type="info"
  title="What are weight and priority in channels?"
  collapsible
>
  Weight and priority are two important parameters that control the usage order
  and distribution of channels:
</Callout>

    - Priority: The higher the number, the higher the priority. Channels with higher priority are used first
    - Weight: Among channels with the same priority, requests are distributed according to the weight ratio

    For example:

    - A channel with priority 2 will be used before a channel with priority 1
    - Two channels with priority 1 and a weight ratio of 2:1 will receive requests in a 2:1 ratio

<Callout type="info" title="Prompt says no available channel?" collapsible>
  Please check the following settings:
</Callout>

    1. User group settings
    2. Channel group settings
    3. Model settings for the channel

<Callout
  type="info"
  title="Channel test error: invalid character '<' looking for beginning of value"
  collapsible
>
  This error means the return value is not valid JSON, but an HTML page.
</Callout>

    The most likely reason: Your deployment server's IP or proxy node has been blocked by CloudFlare.

<Callout
  type="info"
  title="Channel test error: Multiplier or price not configured, please ask the admin to set it"
  collapsible
>
  Please check if the multiplier or price is configured in 'System Settings -
  Operation Settings - Model Multiplier Settings'.
</Callout>

    Or enable 'Self-use Mode' in 'System Settings - Operation Settings'.

## 🌐 Deployment & Connection Issues

<Callout
  type="info"
  title="ChatGPT Next Web error: Failed to fetch"
  collapsible
>
  Please check the following:
</Callout>

    1. Do not set BASE_URL during deployment
    2. Make sure the API endpoint and API Key are correct
    3. Check if HTTPS is enabled (browsers block HTTP requests under HTTPS domains)

<Callout
  type="info"
  title="Error: Current group load is saturated, please try again later"
  collapsible
>
  This means the upstream channel returned a 429 error (too many requests).
</Callout>

## 📦 Database & Upgrade Issues

<Callout type="info" title="Will my data be lost after upgrading?" collapsible>
  It depends on the database type:
</Callout>

    - MySQL: Data will not be lost
    - SQLite: You need to mount the volume for the one-api.db database file as per the deployment command, otherwise data will be lost after container restart

<Callout
  type="info"
  title="Do I need to change the database before upgrading?"
  collapsible
>
  Generally, no. The system will automatically adjust during initialization.
</Callout>

    If special handling is needed, it will be explained in the release notes with corresponding scripts provided.

<Callout
  type="info"
  title="Error after manually modifying the database: Database consistency has been broken, please contact the admin?"
  collapsible
>
  This error means an invalid channel ID record was detected in the ability
  table. Common reasons:
</Callout>

    - When deleting records from the channel table, the corresponding invalid channels in the ability table were not cleaned up
    - Each model supported by a channel must have a corresponding record in the ability table

<Callout type="info" title="Can't find your question?">
  If your question is not answered here, you are welcome to:
</Callout>

    1. View the [installation documentation](../installation)
    2. Submit an [issue on GitHub](feedback-issues.md)
    3. Join the [QQ group for help](community-interaction.md)
